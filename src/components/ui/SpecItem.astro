---
import type { HTMLAttributes } from 'astro/types';

interface Props extends HTMLAttributes<'div'> {
  icon?: any;
  label: string;
  value: string | number | null | undefined;
  iconClass?: string;
}

const { icon: Icon, label, value, iconClass = 'text-muted-foreground', class: className, ...rest } = Astro.props;
const hasValueSlot = Astro.slots.has('value');
const displayValue = hasValueSlot ? null : value ?? 'â€”';
---

<div class:list={['flex items-start gap-3 group', className]} {...rest}>
  {Icon && (
    <div class:list={['mt-1 flex-shrink-0 opacity-60 group-hover:opacity-100 transition-opacity', iconClass]}>
      <Icon className="h-4 w-4" />
    </div>
  )}
  <div class="flex-1 min-w-0">
    <div class="text-[10px] uppercase tracking-wider font-semibold text-muted-foreground mb-1">
      {label}
    </div>
    <div class="text-sm font-semibold text-foreground break-words leading-tight">
      {hasValueSlot ? <slot name="value" /> : displayValue}
    </div>
  </div>
</div>
