---
import MainLayout from '@/layouts/MainLayout.astro';
import { loadComparePage } from '@/lib/compare-page-loader.server';

const pageData = await loadComparePage('controller');
const { module, items, basePath, breadcrumb, page } = pageData;
const Table = module.Table;
---

<MainLayout
  title={page.title}
  description={page.description}
  editPath="src/pages/controllers/compare.astro"
>
  <div class="container py-8">
    <nav class="mb-4 flex items-center gap-2 text-sm text-muted-foreground">
      <a href={`${basePath}/`} class="transition-colors hover:text-foreground">Home</a>
      <span>/</span>
      <a
        href={`${basePath}${breadcrumb.href}`}
        class="transition-colors hover:text-foreground"
      >
        {breadcrumb.label}
      </a>
      <span>/</span>
      <span class="text-foreground">Compare</span>
    </nav>
    <Table client:load items={items} basePath={basePath} />
  </div>
</MainLayout>
